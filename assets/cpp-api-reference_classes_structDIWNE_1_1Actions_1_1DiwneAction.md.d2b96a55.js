import{_ as s,o as a,c as n,Q as e}from"./chunks/framework.0f749972.js";const u=JSON.parse('{"title":"DIWNE::Actions::DiwneAction","description":"","frontmatter":{"title":"DIWNE::Actions::DiwneAction","summary":"Base class for DIWNEActions."},"headers":[],"relativePath":"cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.md","filePath":"cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.md"}'),t={name:"cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.md"},o=e(`<h1 id="diwne-actions-diwneaction" tabindex="-1">DIWNE::Actions::DiwneAction <a class="header-anchor" href="#diwne-actions-diwneaction" aria-label="Permalink to &quot;DIWNE::Actions::DiwneAction&quot;">​</a></h1><p>Base class for <a href="/cpp-api-reference/namespaces/namespaceDIWNE.html">DIWNE</a><a href="/cpp-api-reference/namespaces/namespaceDIWNE_1_1Actions.html">Actions</a>. <a href="#detailed-description">More...</a></p><p><code>#include &quot;DIWNE/Core/diwne_actions.h&quot;</code></p><p>Inherited by <a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1ConnectPinAction.html">DIWNE::Actions::ConnectPinAction</a>, <a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1EditorAction.html">DIWNE::Actions::EditorAction</a>, <a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1SelectionRectAction.html">DIWNE::Actions::SelectionRectAction</a></p><h2 id="public-functions" tabindex="-1">Public Functions <a class="header-anchor" href="#public-functions" aria-label="Permalink to &quot;Public Functions&quot;">​</a></h2><table><thead><tr><th></th><th>Name</th></tr></thead><tbody><tr><td></td><td><strong><a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#function-diwneaction">DiwneAction</a></strong>(const std::string &amp; name, const std::shared_ptr&lt; <a href="/cpp-api-reference/classes/classDIWNE_1_1DiwneObject.html">DiwneObject</a> &gt; &amp; source)</td></tr><tr><td>virtual</td><td><strong><a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#function-~diwneaction">~DiwneAction</a></strong>() =default</td></tr><tr><td>void</td><td><strong><a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#function-end">end</a></strong>()&lt;br&gt;Marks the action to end at the end of the next frame.</td></tr><tr><td>bool</td><td><strong><a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#function-hassamesource">hasSameSource</a></strong>(const <a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html">DiwneAction</a> &amp; action) const&lt;br&gt;Checks whether the source of this and another action are the same.</td></tr><tr><td>bool</td><td><strong><a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#function-issource">isSource</a></strong>(const <a href="/cpp-api-reference/classes/classDIWNE_1_1DiwneObject.html">DiwneObject</a> * object) const&lt;br&gt;Checks whether passed object is the source of this action (eg. the object that started it.</td></tr><tr><td>virtual void</td><td><strong><a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#function-onend">onEnd</a></strong>()&lt;br&gt;Called at the end of the frame after the frame in which the action has ended. Called after <a href="./.html">onFrameEnd()</a>.</td></tr><tr><td>virtual void</td><td><strong><a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#function-onframeend">onFrameEnd</a></strong>()&lt;br&gt;Called at the end of each frame the action is active for, called before <a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#function-onend">onEnd()</a> on the last frame.</td></tr></tbody></table><h2 id="public-attributes" tabindex="-1">Public Attributes <a class="header-anchor" href="#public-attributes" aria-label="Permalink to &quot;Public Attributes&quot;">​</a></h2><table><thead><tr><th></th><th>Name</th></tr></thead><tbody><tr><td>std::string</td><td><strong><a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#variable-name">name</a></strong></td></tr><tr><td>std::weak_ptr&lt; <a href="/cpp-api-reference/classes/classDIWNE_1_1DiwneObject.html">DiwneObject</a> &gt;</td><td><strong><a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#variable-source">source</a></strong></td></tr></tbody></table><h2 id="friends" tabindex="-1">Friends <a class="header-anchor" href="#friends" aria-label="Permalink to &quot;Friends&quot;">​</a></h2><table><thead><tr><th></th><th>Name</th></tr></thead><tbody><tr><td>class</td><td><strong><a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#friend-diwneinteractionstate">DIWNE::InteractionState</a></strong></td></tr></tbody></table><h2 id="detailed-description" tabindex="-1">Detailed Description <a class="header-anchor" href="#detailed-description" aria-label="Permalink to &quot;Detailed Description&quot;">​</a></h2><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">struct</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">DIWNE</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">Actions</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">DiwneAction</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">struct</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DIWNE</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">Actions</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">DiwneAction</span><span style="color:#24292E;">;</span></span></code></pre></div><p>Base class for <a href="/cpp-api-reference/namespaces/namespaceDIWNE.html">DIWNE</a><a href="/cpp-api-reference/namespaces/namespaceDIWNE_1_1Actions.html">Actions</a>.</p><p><a href="/cpp-api-reference/namespaces/namespaceDIWNE_1_1Actions.html">Actions</a> are operations that span and carry state across multiple frames.</p><h2 id="public-functions-documentation" tabindex="-1">Public Functions Documentation <a class="header-anchor" href="#public-functions-documentation" aria-label="Permalink to &quot;Public Functions Documentation&quot;">​</a></h2><h3 id="function-diwneaction" tabindex="-1">function DiwneAction <a class="header-anchor" href="#function-diwneaction" aria-label="Permalink to &quot;function DiwneAction&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">inline</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">DiwneAction</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::string </span><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;"> name,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::shared_ptr</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> DiwneObject </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;"> source</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">inline</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DiwneAction</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">::string </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> name,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">std</span><span style="color:#24292E;">::shared_ptr</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> DiwneObject </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> source</span></span>
<span class="line"><span style="color:#24292E;">)</span></span></code></pre></div><p><strong>Parameters</strong>:</p><ul><li><strong>name</strong> <a href="/cpp-api-reference/namespaces/namespaceString.html">String</a> identifier of the action</li><li><strong>source</strong> <a href="/cpp-api-reference/classes/classDIWNE_1_1DiwneObject.html">DiwneObject</a> considered to be it&#39;s source, eg. the object that started it and is most likely also responsible for ending it.</li></ul><h3 id="function-diwneaction-1" tabindex="-1">function ~DiwneAction <a class="header-anchor" href="#function-diwneaction-1" aria-label="Permalink to &quot;function ~DiwneAction&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">virtual</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">~</span><span style="color:#B392F0;">DiwneAction</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">=default</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">~</span><span style="color:#6F42C1;">DiwneAction</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">=default</span></span></code></pre></div><h3 id="function-end" tabindex="-1">function end <a class="header-anchor" href="#function-end" aria-label="Permalink to &quot;function end&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">inline</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">end</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">inline</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">end</span><span style="color:#24292E;">()</span></span></code></pre></div><p>Marks the action to end at the end of the next frame.</p><p><strong>Warning</strong>: Ending the action is usually the responsibility of the object that started it. If this object fails to end it, it will simply be active forever. There are mechanisms to prevent this, namely, an action will be ended if the source object gets destroyed or forcibly deallocated (action source is a weak pointer), and any action can be ended by the <a href="/cpp-api-reference/classes/classDIWNE_1_1NodeEditor.html">NodeEditor</a> when ESC is pressed.</p><p>An issue can arise when action is started and then the source object is hidden (not rendered anymore due to allowDrawing() returning false). In this case, the drawing lifecycle methods and processing of interactions is NOT called, only the initialize() and finalize() methods are called. So it must be ensured that either the source object will not get hidden until the end of the action or the check for ending the action happens in one of those two methods.</p><p>An exception is ending an action in <a href="/cpp-api-reference/classes/classDIWNE_1_1DiwneObject.html#function-ondrag">DiwneObject::onDrag()</a>, this method will always get called when the dragging ends even when it is due to the object becomming hidden, so it is safe to start and end actions there.</p><p>At the same time <a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#function-onframeend">onFrameEnd()</a> and <a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#function-onend">onEnd()</a> callbacks will be called in that order.</p><h3 id="function-hassamesource" tabindex="-1">function hasSameSource <a class="header-anchor" href="#function-hassamesource" aria-label="Permalink to &quot;function hasSameSource&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">inline</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">bool</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">hasSameSource</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">DiwneAction</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">action</span></span>
<span class="line"><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">const</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">inline</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">bool</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">hasSameSource</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DiwneAction</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> </span><span style="color:#E36209;">action</span></span>
<span class="line"><span style="color:#24292E;">) </span><span style="color:#D73A49;">const</span></span></code></pre></div><p>Checks whether the source of this and another action are the same.</p><h3 id="function-issource" tabindex="-1">function isSource <a class="header-anchor" href="#function-issource" aria-label="Permalink to &quot;function isSource&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">inline</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">bool</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">isSource</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">DiwneObject</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">object</span></span>
<span class="line"><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">const</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">inline</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">bool</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">isSource</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DiwneObject</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#E36209;">object</span></span>
<span class="line"><span style="color:#24292E;">) </span><span style="color:#D73A49;">const</span></span></code></pre></div><p>Checks whether passed object is the source of this action (eg. the object that started it.</p><h3 id="function-onend" tabindex="-1">function onEnd <a class="header-anchor" href="#function-onend" aria-label="Permalink to &quot;function onEnd&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">inline</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">virtual</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onEnd</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">inline</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onEnd</span><span style="color:#24292E;">()</span></span></code></pre></div><p>Called at the end of the frame after the frame in which the action has ended. Called after <a href="./.html">onFrameEnd()</a>.</p><p><strong>Reimplemented by</strong>: <a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1ConnectPinAction.html#function-onend">DIWNE::Actions::ConnectPinAction::onEnd</a></p><h3 id="function-onframeend" tabindex="-1">function onFrameEnd <a class="header-anchor" href="#function-onframeend" aria-label="Permalink to &quot;function onFrameEnd&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">inline</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">virtual</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onFrameEnd</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">inline</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">virtual</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onFrameEnd</span><span style="color:#24292E;">()</span></span></code></pre></div><p>Called at the end of each frame the action is active for, called before <a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DiwneAction.html#function-onend">onEnd()</a> on the last frame.</p><p><strong>Reimplemented by</strong>: <a href="/cpp-api-reference/classes/structDIWNE_1_1Actions_1_1DragNodeAction.html#function-onframeend">DIWNE::Actions::DragNodeAction::onFrameEnd</a></p><h2 id="public-attributes-documentation" tabindex="-1">Public Attributes Documentation <a class="header-anchor" href="#public-attributes-documentation" aria-label="Permalink to &quot;Public Attributes Documentation&quot;">​</a></h2><h3 id="variable-name" tabindex="-1">variable name <a class="header-anchor" href="#variable-name" aria-label="Permalink to &quot;variable name&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::string name;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">std</span><span style="color:#24292E;">::string name;</span></span></code></pre></div><h3 id="variable-source" tabindex="-1">variable source <a class="header-anchor" href="#variable-source" aria-label="Permalink to &quot;variable source&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::weak_ptr</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> DiwneObject </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> source;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">std</span><span style="color:#24292E;">::weak_ptr</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> DiwneObject </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> source;</span></span></code></pre></div><h2 id="friends-1" tabindex="-1">Friends <a class="header-anchor" href="#friends-1" aria-label="Permalink to &quot;Friends&quot;">​</a></h2><h3 id="friend-diwne-interactionstate" tabindex="-1">friend DIWNE::InteractionState <a class="header-anchor" href="#friend-diwne-interactionstate" aria-label="Permalink to &quot;friend DIWNE::InteractionState&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">friend</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">DIWNE</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">InteractionState</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">DIWNE</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">InteractionState</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">friend</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DIWNE</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">InteractionState</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">DIWNE</span><span style="color:#24292E;">::</span><span style="color:#6F42C1;">InteractionState</span><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">);</span></span></code></pre></div><hr><p>Updated on 2025-05-31 at 12:55:31 +0000</p>`,52),c=[o];function l(p,r,i,d,h,E){return a(),n("div",null,c)}const f=s(t,[["render",l]]);export{u as __pageData,f as default};
